<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Google tag (gtag.js) - Fixed for GitHub Pages -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-V8XF8E885L" onerror="console.log('GA failed to load')"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      try {
        gtag('config', 'G-V8XF8E885L', {
          'cookie_domain': 'none',
          'cookie_flags': 'secure;samesite=strict',
          'storage': 'none'
        });
      } catch (error) {
        // Silently handle GA errors to prevent blocking
      }
    </script>

    <!-- Custom Styles (removed duplicate loading) -->
    
    <!-- SEO Meta Tags -->
    <title>Should I Retake? | BRACU Retake & CGPA Calculator</title>
    <meta name="description" content="BRACU retake calculator for BRAC University students. Analyze grades, understand retake policy, and determine if you should retake courses to improve CGPA.">
    <meta name="keywords" content="bracu cgpa calculator, brac university cgpa calculator, bracu cg calculator, cgpa calculator bracu, brac cgpa calculator, bracu gpa calculator, bracu grade calculator, cgpa calculation bracu, should i retake, grade analysis tool, academic planning, brac university grade calculator, bracu gpa, bracu cgpa chart, bracu grading system, bracu retake, bracu university retake, bracu retake policy, brac university repeat, repeat and retake policy, bracu repeat policy, bracu course retake, brac university course retake, retake policy brac university, bracu academic retake, bracu semester retake, brac university retake rules, bracu retake guidelines, repeat course bracu, bracu course repeat, brac university repeat rules, bracu academic repeat, retake courses bracu, repeat courses brac university, bracu retake procedure, brac university retake procedure, bracu repeat and retake, retake policy bracu, bracu retake eligibility, brac university retake eligibility, bracu grade improvement, brac university grade improvement">
    <meta name="author" content="Badhon">
    <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
    <meta name="language" content="English">
    <meta name="geo.region" content="BD">
    <meta name="geo.placename" content="Dhaka, Bangladesh">
    <meta name="geo.position" content="23.8103;90.4125">
    <meta name="ICBM" content="23.8103, 90.4125">
    <meta name="revisit-after" content="7 days">
    <meta name="rating" content="general">
    <meta name="distribution" content="global">
    <meta name="category" content="education">
    <meta name="coverage" content="worldwide">
    <meta name="target" content="students">
    <meta name="audience" content="BRAC University students">
    <meta name="subject" content="CGPA Calculator, Grade Analysis">
    <meta name="reply-to" content="badhon495@gmail.com">
    <meta name="owner" content="Badhon">
    <meta name="url" content="https://badhon495.github.io/should-i-retake/">
    <meta name="identifier-URL" content="https://badhon495.github.io/should-i-retake/">
    <meta name="directory" content="submission">
    <meta name="pagename" content="BRACU CGPA Calculator">
    <meta name="subtitle" content="Should I Retake? - Free Grade Analysis Tool">
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="BRACU Calculator">
    <meta name="application-name" content="BRACU CGPA Calculator">
    <meta name="msapplication-TileColor" content="#8aadf4">
    <meta name="msapplication-config" content="browserconfig.xml">
    <meta name="theme-color" content="#8aadf4">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-touch-fullscreen" content="yes">
    
    <!-- Open Graph Meta Tags (Facebook, LinkedIn) -->
    <meta property="og:title" content="Should I Retake? | BRACU Retake & Grade Calculator">
    <meta property="og:description" content="BRACU retake calculator for BRAC University students. Understand retake policy, analyze grades, and determine if you should retake or repeat courses.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://badhon495.github.io/should-i-retake/">
    <meta property="og:site_name" content="Should I Retake? - BRACU Retake Calculator">
    <meta property="og:locale" content="en_US">
    <meta property="og:image" content="apple-touch-icon.png">
    <meta property="og:image:width" content="180">
    <meta property="og:image:height" content="180">
    <meta property="og:image:alt" content="Should I Retake? - BRACU CGPA Calculator">
    <meta property="og:image:type" content="image/png">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Should I Retake? | BRACU Retake Calculator">
    <meta name="twitter:description" content="BRACU retake calculator for BRAC University students. Understand retake policy and determine if you should retake courses.">
    <meta name="twitter:creator" content="@badhon495">
    <meta name="twitter:image" content="apple-touch-icon.png">
    <meta name="twitter:image:alt" content="Should I Retake? - BRACU CGPA Calculator">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://badhon495.github.io/should-i-retake/">
    
    <!-- Manifest and PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="theme-color" content="#8aadf4">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Should I Retake?">

    <!-- Additional meta tags for search engines -->
    <meta name="image" content="apple-touch-icon.png">
    <meta name="thumbnail" content="apple-touch-icon.png">
    <meta name="msapplication-TileImage" content="apple-touch-icon.png">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    
    <!-- DNS Prefetch for external resources -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">

    <!-- Preload critical resources for immediate availability -->
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js" as="script">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js" as="script">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js" as="script">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="favicon-16x16.png" sizes="16x16">
    <link rel="shortcut icon" type="image/png" href="favicon-32x32.png">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    
    <!-- Critical CSS to prevent FOUC -->
    <style>
        /* Critical styles to prevent flash of unstyled content */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: #24273a;
            min-height: 100vh;
            line-height: 1.6;
            color: #cad3f5;
            opacity: 0;
            transition: opacity 0.2s ease;
        }
        
        body.loaded {
            opacity: 1;
        }
        
        /* Initial loader */
        .initial-loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: #24273a;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10000;
            transition: opacity 0.3s ease;
        }
        
        .initial-loader.hidden {
            opacity: 0;
            pointer-events: none;
        }
        
        .loader-content {
            text-align: center;
            color: #cad3f5;
        }
        
        .loader-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #5b6078;
            border-top: 4px solid #8aadf4;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 1rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Tutorial button styling */
        .tutorial-btn {
            background: #ff0000 !important;
            color: white !important;
            border: none !important;
        }
        
        .tutorial-btn:hover {
            background: #cc0000 !important;
            transform: translateY(-2px) !important;
        }
    </style>
    
    <!-- Structured Data (JSON-LD) -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Should I Retake? - BRACU Retake Calculator",
      "alternateName": ["BRACU CGPA Calculator", "BRAC University CGPA Calculator", "BRACU CG Calculator", "BRACU Retake Calculator", "BRAC University Retake Calculator", "BRACU Repeat Calculator"],
      "description": "BRACU retake calculator for BRAC University students. Understand retake policy, analyze grades, and determine if you should retake or repeat courses to improve CGPA.",
      "url": "https://badhon495.github.io/should-i-retake/",
      "applicationCategory": "EducationalApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "author": {
        "@type": "Person",
        "name": "Badhon",
        "email": "badhon495@gmail.com"
      },
      "publisher": {
        "@type": "Person",
        "name": "Badhon"
      },
      "keywords": "bracu cgpa calculator, brac university cgpa calculator, bracu cg calculator, cgpa calculator bracu, brac cgpa calculator, bracu gpa calculator, bracu grade calculator, bracu retake, bracu university retake, bracu retake policy, brac university repeat, repeat and retake policy, bracu repeat policy, bracu course retake, brac university course retake, retake policy brac university, bracu academic retake, bracu semester retake, brac university retake rules, bracu retake guidelines, repeat course bracu, bracu course repeat, brac university repeat rules, bracu academic repeat, retake courses bracu, repeat courses brac university, bracu retake procedure, brac university retake procedure, bracu repeat and retake, retake policy bracu, bracu retake eligibility, brac university retake eligibility, bracu grade improvement, brac university grade improvement",
      "audience": {
        "@type": "Audience",
        "audienceType": "BRAC University Students",
        "geographicArea": {
          "@type": "Place",
          "name": "Bangladesh"
        }
      },
      "featureList": [
        "PDF Grade Sheet Upload",
        "Excel File Import",
        "CGPA Calculation",
        "Grade Analysis",
        "Course Retake Recommendations",
        "BRACU Retake Policy Guidance",
        "Repeat Course Analysis",
        "Grade Improvement Planning",
        "Retake Eligibility Assessment",
        "Academic Performance Evaluation",
        "Data Privacy (Client-side Processing)",
        "Mobile Responsive Design",
        "Real-time Grade Point Editing",
        "Export to Excel"
      ],
      "softwareVersion": "1.0",
      "datePublished": "2024-01-01",
      "dateModified": "2025-01-09",
      "inLanguage": "en-US",
      "isAccessibleForFree": true,
      "interactionStatistic": {
        "@type": "InteractionCounter",
        "interactionType": "https://schema.org/UseAction",
        "userInteractionCount": 909
      },
      "potentialAction": {
        "@type": "UseAction",
        "target": "https://badhon495.github.io/should-i-retake/",
        "object": {
          "@type": "Thing",
          "name": "Calculate CGPA"
        }
      },
      "image": {
        "@type": "ImageObject",
        "url": "apple-touch-icon.png",
        "width": 180,
        "height": 180
      },
      "logo": {
        "@type": "ImageObject",
        "url": "apple-touch-icon.png",
        "width": 180,
        "height": 180
      }
    }
    </script>
    
    <!-- Preload fonts for better performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Optimized font loading with optional display to prevent layout shifts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=optional" rel="stylesheet">

    <!-- Critical CSS inline (already present above) -->
    <!-- Preload critical CSS files -->
    <link rel="preload" href="styles.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="preload" href="animations.css" as="style" onload="this.onload=null;this.rel='stylesheet'">

    <!-- Fallback for browsers that don't support preload -->
    <noscript>
        <link rel="stylesheet" href="styles.css">
        <link rel="stylesheet" href="animations.css">
    </noscript>
</head>
<body>
    <!-- Initial loading screen to prevent FOUC -->
    <div class="initial-loader" id="initialLoader">
        <div class="loader-content">
            <h2>
                Should I Retake?
            </h2>
            <div class="loader-spinner"></div>
            <p>Loading your grade analysis tool...</p>
        </div>
    </div>

    <!-- Main Container -->
    <div class="container">
        <!-- Header Section -->
        <header class="header">
            <h1>
                Should I Retake?
            </h1>
            <p>Upload your BRACU grade sheet to analyze your performance and determine if you should retake or repeat courses according to BRAC University retake policy</p>
            <div style="margin-top: 1.5rem; text-align: center;">
                <button onclick="window.open('https://badhon495.github.io/bracu-cgpa-calculator/', '_blank')" class="simple-calculator-btn">
                    Simple Version
                </button>
                <button onclick="window.open('https://youtu.be/iEhAOVOiorA', '_blank')" class="simple-calculator-btn tutorial-btn" style="margin-left: 1rem;">
                    Tutorial
                </button>
            </div>
        </header>


        <!-- Upload Section -->
        <div class="upload-card">
            <div id="uploadArea" class="upload-area">
                <div class="upload-icon">
                    ☁️
                </div>
                <div class="upload-text">
                    <h3>Drop your Grade Sheet or click to browse</h3>
                    <p>Supports PDF and Excel files (.xlsx, .xls)</p>
                    <button class="upload-btn" type="button">
                        Choose File
                    </button>
                </div>
                <input id="fileInput" type="file" accept=".pdf,.xlsx,.xls" class="file-input">
            </div>
            
            <!-- Loading Indicator -->
            <div id="loadingIndicator" class="loading">
                <div class="loading-content">
                    <div class="spinner"></div>
                    Processing your grade sheet...
                </div>
            </div>
        </section>

        <!-- Results Section -->
        <section id="resultsSection" class="results-section" aria-label="Grade Analysis Results">
            
            <!-- Summary Cards -->
            <div class="summary-grid">
                <div class="summary-card">
                    <h3>Total Courses</h3>
                    <div class="value">
                        <div id="totalCourses">0</div>
                        <div class="courses-breakdown">
                            Credit: <span id="creditCourses">0</span>
                        </div>
                    </div>
                </div>
                <div class="summary-card">
                    <h3>Total Credits</h3>
                    <div class="value">
                        <div id="totalCredits">0.00</div>
                        <div class="credits-breakdown">
                            Earned: <span id="earnedCredits">0.00</span>
                        </div>
                    </div>
                </div>
                <div class="summary-card">
                    <h3>Current CGPA</h3>
                    <div class="value">
                        <div id="currentCGPA">0.00</div>
                        <div class="cgpa-breakdown">
                            Actual: <span id="currentActualCGPA">0.00</span>
                        </div>
                    </div>
                </div>
                <div class="summary-card dream-cgpa">
                    <h3>Dream CGPA</h3>
                    <div class="value dream">
                        <div id="dreamCGPA">0.00</div>
                        <div class="cgpa-breakdown">
                            Actual: <span id="dreamActualCGPA">0.00</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Controls Section -->
            <div class="controls-section">
                <button id="resetBtn" class="control-btn reset-btn">
                Reset to Original
                </button>
                <button id="exportBtn" class="control-btn export-btn">
                    Export to Excel
                </button>
            </div>

            <!-- Course Table -->
            <div class="table-card">
                <div class="table-header" style="text-align: center;">
                    <h2>Course Details</h2>
                </div>
                <div class="table-container">
                    <table class="course-table">
                        <thead>
                            <tr>
                                <th>Course Code</th>
                                <th>Credits Earned</th>
                                <th>Grade Points <span class="editable-hint">(Editable)</span></th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="courseTableBody">
                            <!-- Course rows will be dynamically inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Add Course Button -->
            <div class="add-course-section">
                <button id="addCourseBtn" class="add-course-simple-btn" type="button">
                    ➕ Add Course
                </button>
            </div>
            
        </section>
        </main>

        <!-- FAQ Section Link -->
        <aside class="faq-link-section" style="margin-top: 2rem; text-align: center;">
            <p style="font-size: 1.1rem;">If you have any questions regarding this project, <a href="faq.html" style="color: #7dc4e4; font-weight: 600; text-decoration: underline;">visit the FAQ page</a>.</p>
        </aside>

        <!-- Error Message -->
        <div id="errorMessage" class="error-message">
            <div class="error-content">
                <strong>⚠️ Error:</strong>
                <span id="errorText"></span>
            </div>
        </div>

    </div>

    <!-- Load PDF.js immediately for first-time users -->
    <script async src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <!-- Custom JavaScript with defer -->
    <script defer src="script.js"></script>
    
    <!-- Loading state management -->
    <script>
        
        // Optimized loader management
        function hideLoader() {
            const loader = document.getElementById('initialLoader');
            const body = document.body;

            if (loader && body) {
                loader.classList.add('hidden');
                body.classList.add('loaded');
            }
        }

        // Hide loader when DOM is ready
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', hideLoader);
        } else {
            hideLoader();
        }

        // Fallback timeout
        setTimeout(hideLoader, 2000);
    </script>
</body>
</html>
