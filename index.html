<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Should I Retake?</title>
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="animations.css">
</head>
<body>
    <!-- Main Container -->
    <div class="container">
        
        <!-- Header Section -->
        <header class="header">
            <h1>
                <span class="icon">üéì</span>
                Should I Retake?
            </h1>
            <p>Upload your PDF grade sheet or Excel file to extract course numbers and grade points</p>
        </header>

        <!-- Upload Section -->
        <div class="upload-card">
            <div id="uploadArea" class="upload-area">
                <div class="upload-icon">
                    ‚òÅÔ∏è
                </div>
                <div class="upload-text">
                    <h3>Drop your PDF or Excel file here or click to browse</h3>
                    <p>Supports PDF and Excel files (.xlsx, .xls) up to 10MB</p>
                    <button class="upload-btn" type="button">
                        Choose File
                    </button>
                </div>
                <input id="fileInput" type="file" accept=".pdf,.xlsx,.xls" class="file-input">
            </div>
            
            <!-- Loading Indicator -->
            <div id="loadingIndicator" class="loading">
                <div class="loading-content">
                    <div class="spinner"></div>
                    Processing your grade sheet...
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <section id="resultsSection" class="results-section">
            
            <!-- Summary Cards -->
            <div class="summary-grid">
                <div class="summary-card">
                    <h3>Total Courses</h3>
                    <div id="totalCourses" class="value">0</div>
                </div>
                <div class="summary-card">
                    <h3>Total Credits</h3>
                    <div id="totalCredits" class="value">0.00</div>
                </div>
                <div class="summary-card">
                    <h3>Current CGPA</h3>
                    <div id="currentCGPA" class="value">0.00</div>
                </div>
                <div class="summary-card dream-cgpa">
                    <h3>Dream CGPA</h3>
                    <div id="dreamCGPA" class="value dream">0.00</div>
                </div>
            </div>

            <!-- Controls Section -->
            <div class="controls-section">
                <button id="resetBtn" class="control-btn reset-btn">
                Reset to Original
                </button>
                <button id="exportBtn" class="control-btn export-btn">
                    Export to Excel
                </button>
            </div>

            <!-- Course Table -->
            <div class="table-card">
                <div class="table-header" style="text-align: center;">
                    <h2>Course Details</h2>
                </div>
                <div class="table-container">
                    <table class="course-table">
                        <thead>
                            <tr>
                                <th>Course Code</th>
                                <th>Credits Earned</th>
                                <th>Grade Points <span class="editable-hint">(Editable)</span></th>
                                <th>Quality Points</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="courseTableBody">
                            <!-- Course rows will be dynamically inserted here -->
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Add Course Button -->
            <div class="add-course-section">
                <button id="addCourseBtn" class="add-course-simple-btn" type="button">
                    ‚ûï Add Course
                </button>
            </div>
            
        </section>

        <!-- FAQ Section -->
        <section class="faq-section">
            <div class="faq-header">
                <h2>‚ùì Frequently Asked Questions</h2>
            </div>
            <div class="faq-container">
                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Is my grade sheet being stored?</h3>
                    </div>
                    <div class="faq-answer">
                        <p>No, it is not. The website takes the values from your grade sheet and caches them in your browser temporarily. If you reload the page, this data will be removed. We do not store any of your information on our servers.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Why do you need a grade sheet?</h3>
                    </div>
                    <div class="faq-answer">
                        <p>As a BRAC University student, I always had to maintain an Excel sheet to see how much my CGPA would increase if I retook a course, or to determine what GPA I needed to achieve my dream CGPA. This was quite a hassle, so I created this website to simplify the process.</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Can I see the source code?</h3>
                    </div>
                    <div class="faq-answer">
                        <p>Absolutely! Here is the <a href="https://github.com/badhon495/should-i-retake" target="_blank" rel="noopener noreferrer">source code</a>. If you think of any features, just create an issue. Even better if you can implement it and make a pull request. Also, please give it a star if you can‚Äîit will help me out a lot!</p>
                    </div>
                </div>

                <div class="faq-item">
                    <div class="faq-question">
                        <h3>Can I download what I created here?</h3>
                    </div>
                    <div class="faq-answer">
                        <p>Yes, you can download your data in Excel format and make changes to it as needed. You can also upload your modified Excel file to restore your data.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Error Message -->
        <div id="errorMessage" class="error-message">
            <div class="error-content">
                <strong>‚ö†Ô∏è Error:</strong>
                <span id="errorText"></span>
            </div>
        </div>

    </div>

    <!-- SheetJS Library for Excel Export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    
    <!-- Custom JavaScript -->
    <script src="config.js"></script>
    <script src="utils.js"></script>
    <script src="script.js"></script>
</body>
</html>
